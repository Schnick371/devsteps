## Problem

MCP Server crashes in other projects with error:
```json
{
  "success": false,
  "error": "The \"path\" argument must be of type string. Received undefined"
}
```

## Root Cause

**Location:** `packages/mcp-server/src/workspace.ts`

```typescript
export function getWorkspacePath(): string {
  const workspaceArg = process.argv[2];
  return workspaceArg || process.cwd();
}
```

**Issue:** Function can return `undefined` when:
1. `process.argv[2]` is not provided (no CLI argument)
2. `process.cwd()` is undefined (rare but possible in some environments)
3. VS Code doesn't pass workspace path correctly

**Impact:** Any handler using `join(getWorkspacePath(), ...)` will crash with Node.js path error.

## Scenarios That Trigger Bug

1. **No workspace folder open** in VS Code
2. **Single-file mode** (file opened without workspace)
3. **VS Code multi-root workspace** - only first workspace used
4. **MCP server started without cwd set** by spawning process

## Current Extension Behavior

Extension (`mcpServerManager.ts`) should pass workspace:
```typescript
// Line 145-146
if (workspaceDir) {
  args.push(workspaceDir);  // Positional argument
}

// Line 148-151
workspaceDir ? {
  cwd: workspaceDir  // Sets process.cwd()
} : {}
```

**If no workspace:** Both `args` and `cwd` are empty â†’ `getWorkspacePath()` returns undefined!

## Solution

**Option 1: Defensive Programming (Recommended)**
```typescript
export function getWorkspacePath(): string {
  const workspaceArg = process.argv[2];
  const cwd = process.cwd();
  const workspacePath = workspaceArg || cwd;
  
  if (!workspacePath) {
    throw new Error('No workspace path available. Please open a folder in VS Code.');
  }
  
  return workspacePath;
}
```

**Option 2: Graceful Degradation**
```typescript
export function getWorkspacePath(): string | undefined {
  return process.argv[2] || process.cwd();
}

// In handlers:
const workspacePath = getWorkspacePath();
if (!workspacePath) {
  return {
    success: false,
    error: 'DevSteps requires a workspace folder. Please open a folder in VS Code.'
  };
}
```

## Testing

1. Open VS Code **without** a folder
2. Try to use any DevSteps MCP command
3. Should show helpful error instead of crash

## Files Affected

- `packages/mcp-server/src/workspace.ts` - Add validation
- All handlers that use `getWorkspacePath()` - Add error handling (optional)

## Related

- Extension detects workspace correctly (`workspaceFolders?.[0]`)
- Issue is MCP server runtime, not extension
- May affect other IDEs (Cursor, Windsurf) using npm package