# Problem

Published npm package `@schnick371/devsteps-mcp-server@0.8.1-next.5` is incomplete and cannot start.

## Evidence

```bash
# Error when starting MCP server:
Error [ERR_MODULE_NOT_FOUND]: Cannot find module 
'/home/th/.npm/_npx/.../node_modules/@schnick371/devsteps-mcp-server/dist/handlers/health.js'
```

## Package Comparison

| Version | Files | Size | Status |
|---------|-------|------|--------|
| @latest (0.6.14) | 51 | 2.7MB | ✅ Works |
| @next (0.8.1-next.5) | 45 | 2.7MB | ❌ Broken |

**Missing:** 6 files, likely in `dist/handlers/` directory

## Root Cause

Publishing process for 0.8.1-next.5 did not include all built files. Possible causes:
- Build incomplete before `npm publish`
- `.npmignore` or `files` field in package.json excludes handlers
- Turborepo build order issue

## Impact

- ✅ Extension 0.8.3 correctly detects pre-release and requests @next
- ❌ MCP Server @next crashes immediately on startup
- ❌ **Blocks all pre-release testing**
- ❌ Users cannot use DevSteps extension 0.8.3 with MCP features

## Reproduction

```bash
npx -y --package=@schnick371/devsteps-mcp-server@next devsteps-mcp
# Crashes with ERR_MODULE_NOT_FOUND
```

## Validation Answer: Pre-Release Detection

**Question:** "Wie wird sichergestellt, dass die extension erkennt das es ein prerelease ist?"

**Answer:** ✅ **WORKS PERFECTLY!**

The implementation in TASK-207 correctly detects pre-release:
1. Extension package.json contains `"preRelease": true`
2. Code reads `context.extension.packageJSON.preRelease`
3. Selects `@schnick371/devsteps-mcp-server@next` when true
4. Logs: `Using MCP server package: @schnick371/devsteps-mcp-server@next (pre-release: true)`

**Evidence:**
- Extension 0.8.3 installed with `preRelease: true` in package.json
- Would download correct @next version if package wasn't broken
- BUG-047/TASK-207 implementation is **correct**

## Next Steps

1. Check `packages/mcp-server/package.json` files field
2. Verify dist/ directory contents before publish
3. Re-publish 0.8.1-next.6 with all files
4. Add publication validation to CI/CD
